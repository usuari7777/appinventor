<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="Spanish" xml:lang="Spanish" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>La lista de la compra | Programando en AppInventor </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="Spanish" />
<meta name="author" content="Francisco Nevado Montero" />
<meta name="generator" content="eXeLearning 2.0.1 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript">$exe_i18n={show:"Mostrar",hide:"Ocultar",showFeedback:"Mostrar retroalimentación",hideFeedback:"Ocultar retroalimentación",correct:"Correcto",incorrect:"Incorrecto",menu:"Menú"}</script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="la_lista_de_la_compra.html#main" class="sr-av">Saltar la navegación</a></p>
<div id="header" >Programando en AppInventor</div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Programando en AppInventor</a></li>
   <li><a href="qu_es_esto.html" class="no-ch">¿Qué es esto?</a></li>
   <li><a href="antes_de_empezar.html" class="no-ch">Antes de empezar</a></li>
   <li><a href="hola_mundo.html" class="no-ch">Hola mundo</a></li>
   <li><a href="el_mvil_que_habla.html" class="no-ch">El móvil que habla</a></li>
   <li><a href="pelota_que_rebota.html" class="no-ch">Pelota que rebota</a></li>
   <li><a href="cada_cosa_en_su_sitio.html" class="no-ch">Cada cosa en su sitio</a></li>
   <li><a href="eco_ecoooo.html" class="no-ch">Eco, ecoooo....</a></li>
   <li><a href="pinta_en_la_pizarra.html" class="no-ch">Pinta en la pizarra</a></li>
   <li><a href="pntate_la_cara.html" class="no-ch">Píntate la cara</a></li>
   <li><a href="cronmetro.html" class="no-ch">Cronómetro</a></li>
   <li><a href="the_final_countdown.html" class="no-ch">The final countdown</a></li>
   <li><a href="stop__descrgate_tus_apps.html" class="no-ch">¡Stop! - Descárgate tus apps</a></li>
   <li><a href="si_vas_al_mercado_lleva_dinero.html" class="no-ch">Si vas al mercado, lleva dinero</a></li>
   <li><a href="donde_estoy.html" class="no-ch">¿Donde estoy?</a></li>
   <li><a href="pantallas_pantallas_y_ms_pantallas.html" class="no-ch">Pantallas, pantallas y más pantallas</a></li>
   <li><a href="contactando.html" class="no-ch">Contactando</a></li>
   <li><a href="chateame.html" class="no-ch">Chateame</a></li>
   <li><a href="no_te_desorientes.html" class="no-ch">No te desorientes</a></li>
   <li><a href="atrvete_a_volar_solo.html" class="no-ch">Atrévete a volar solo</a></li>
   <li id="active"><a href="la_lista_de_la_compra.html" class="active no-ch">La lista de la compra</a></li>
   <li><a href="por_si_no_sabes_idiomas.html" class="no-ch">Por si no sabes idiomas...</a></li>
   <li><a href="aprendiendo_a_sumar.html" class="no-ch">Aprendiendo a sumar</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="atrvete_a_volar_solo.html" class="prev"><span>&laquo; </span>Anterior</a> | <a href="por_si_no_sabes_idiomas.html" class="next"> Siguiente<span> &raquo;</span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">La lista de la compra</h1></div>
<div class="iDevice_wrapper objectivesIdevice em_iDevice" id="id63">
<div class="iDevice emphasis1" >
<div class="iDevice_header"><h2 class="iDeviceTitle">Objetivos</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta63_90_2" class="block iDevice_content">
<ul>
<li>Crear un programa que nos sirva para apuntar la lista de la compra y poder ir al supermercado con el m&oacute;vil y no olvidarnos de comprar nada.</li>
</ul>
<p>Permite trabajar las listas. Adem&aacute;s tendremos que ocultar y mostrar muchas cosas para que la aplicaci&oacute;n pueda tener una interfaz agradable.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper activityIdevice em_iDevice" id="id64">
<div class="iDevice emphasis1" >
<div class="iDevice_header"><h2 class="iDeviceTitle">Actividad</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta64_91_2" class="block iDevice_content">
<p>Antes de empezar vamos a analizar que necesitamos en nuestra aplicaci&oacute;n. Nuestra app tendr&aacute;:</p>
<ul>
<li>Una secci&oacute;n del programa donde elegiremos los productos, por ejemplo, habr&aacute; listas por bloques tem&aacute;ticos (carne, fruta, verdura, pescado, etc) y conforme los vayamos seleccionando se ir&aacute;n a&ntilde;adiendo a la lista de la compra.</li>
<li>Otra secci&oacute;n del programa que es para hacer la compra, nos muestra la lista de productos seleccionados y conforme los vayamos pulsando desaparecer&aacute;n de la lista.</li>
</ul>
<p>Entra en <strong>AppInventor</strong> y crea un proyecto llamado "<strong>ShoppingList</strong>". Modifica los siguientes par&aacute;metros de "<strong>Screen1</strong>":</p>
<ul>
<li><strong>AlignHorizontal</strong>: center</li>
<li><strong>BackgroundColor</strong>: Black</li>
<li><strong>Title</strong>: <em>Shopping List</em></li>
<li><strong>Icon</strong>: Descarga y sube esta imagen (modificada desde openclipart.org)</li>
</ul>
<p><a href="icono_shopping-basket.png"><img src="icono_shopping-basket.png" style="display: block; margin-left: auto; margin-right: auto;" height="100" width="100" /></a></p>
<p>Ahora inserta un "<strong>HorizontalArrangement</strong>" y dentro de &eacute;l dos botones con los que podremos seleccionar entre una u otra secci&oacute;n de nuestro programa. Ren&oacute;mbralos adecuadamente y pon los textos correspondientes. Debe quedarte as&iacute;:</p>
<p><img src="compra01.png" style="display: block; margin-left: auto; margin-right: auto;" height="109" width="733" /></p>
<p>Ahora vamos a programar un poco en la vista "<strong>Blocks</strong>". Vamos a crear la lista de la compra inicialmente vac&iacute;a y las listas correspondientes a cada secci&oacute;n del supermercado. Creamos estas listas:</p>
<p><img src="compra02.png" style="display: block; margin-left: auto; margin-right: auto;" height="597" width="917" /></p>
<p><img src="compra03.png" style="display: block; margin-left: auto; margin-right: auto;" height="334" width="874" /></p>
<p>Volvemos ahora a la vista "<strong>Designer</strong>". Vamos a crear la interfaz para poder seleccionar los productos y a&ntilde;adirlos a la lista de la compra. A&ntilde;adimos un "<strong>TableArrangement</strong>" de 5 columnas y 2 filas. En &eacute;l insertamos 10 botones con estas im&aacute;genes y sin texto (yo he redimensionado los botones a 40x40 para que no ocupen tanta pantalla),</p>
<table style="width: 100%;" border="0" align="center">
<tbody>
<tr>
<td><a href="bakery.png"><img src="bakery.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="butchery.png"><img src="butchery.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="dairy.png"><img src="dairy.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="delicatessen.png"><img src="delicatessen.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="drinks.png"><img src="drinks.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="fish.png"><img src="fish.png" style="display: block; margin-left: auto; margin-right: auto;" /></a></td>
<td><a href="frozen.png"><img src="frozen.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="fruit.png"><img src="fruit.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="sweets.png"><img src="sweets.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
<td><a href="veggies.png"><img src="veggies.png" style="display: block; margin-left: auto; margin-right: auto;" height="50" width="50" /></a></td>
</tr>
</tbody>
</table>
<p>Adem&aacute;s los renombramos y debe quedarte as&iacute;:</p>
<p><img src="compra04.png" style="display: block; margin-left: auto; margin-right: auto;" height="378" width="823" /></p>
<p>A&ntilde;adimos debajo un componente "<strong>ListView</strong>" que ser&aacute; el que nos permita ver la lista de productos de cada secci&oacute;n y seleccionarlos. Ponle estas caracter&iacute;sticas:</p>
<ul>
<li><strong>BackgroundColor</strong>: LightGray</li>
<li><strong>TextSize</strong>: 18</li>
<li><strong>Width</strong>: Fill Parent</li>
<li><strong>Height</strong>: 200 px</li>
</ul>
<p>Como este componente tiene unas ciertas peculiaridades a la hora de funcionar vamos a a&ntilde;adir debajo un componente "HorizontalArrangement" con dos etiquetas y un bot&oacute;n que nos permitir&aacute;n certificar si el producto seleccionado se tiene que a&ntilde;adir a la lista. Ren&oacute;mbralo todo adecuadamente. Debe quedarte de esta manera:</p>
<p><img src="compra05.png" style="display: block; margin-left: auto; margin-right: auto;" height="483" width="813" /></p>
<p>&nbsp;Vamos ahora a programar a la vista "<strong>Blocks</strong>", vamos a insertar todas las instrucciones para que funcione la secci&oacute;n de nuestro programa que permite seleccionar productos e insertarlos en la lista de la compra. Lo primero es que cuando arranque el programa se debe ocultar todo lo que no sean los botones <em>iniciales</em>:</p>
<p><img src="compra06.png" style="display: block; margin-left: auto; margin-right: auto;" height="159" width="374" /></p>
<p>Cuando pulsamos el bot&oacute;n "<strong>DoListButton</strong>", &eacute;ste cambia su texto a "<em>Lista hecha</em>", se muestran los paneles de selecci&oacute;n y se oculta el bot&oacute;n "<strong>ShowListButton</strong>". Cuando se vuelve a pulsar el bot&oacute;n se deshacen todas esas accciones:</p>
<p><img src="compra07.png" style="display: block; margin-left: auto; margin-right: auto;" height="409" width="430" /></p>
<p>Queda ahora que cuando pulsamos cada uno de los botones de las secciones del supermercado, aparezca en la lista de selecci&oacute;n la lista de productos almacenados:</p>
<p><img src="compra08.png" style="display: block; margin-left: auto; margin-right: auto;" height="346" width="919" /></p>
<p>Cuando seleccionemos alg&uacute;n producto en "ProductSelector" hay que mostralo en el "AddingPanel" para que se pueda a&ntilde;adir a la lista:</p>
<p><img src="compra09.png" style="display: block; margin-left: auto; margin-right: auto;" height="67" width="474" /></p>
<p>Y cuando pulsamos el bot&oacute;n "AddButton" a&ntilde;adimos el producto a la lista:</p>
<p><img src="compra10.png" style="display: block; margin-left: auto; margin-right: auto;" height="87" width="377" /></p>
<p>&iquest;Que tal si lo probamos?</p>
<p>&nbsp;</p>
<p>Ahora &nbsp;tenemos que preocuparnos por la secci&oacute;n de nuestro programa que consiste en mostrar la lista de la compra y poder ir quitando productos de ella.</p>
<p>Primero a&ntilde;adimos debajo del todo un componente "Label"&nbsp; renombr&aacute;ndolo "InstructionsLabel" con estos par&aacute;metros:</p>
<ul>
<li>FontSize: 10</li>
<li>Text: <em>Pulse sobre los productos para quitarlos de la lista:</em></li>
<li>TextColor: White</li>
<li>Width: Fill Parent</li>
</ul>
<p>Despu&eacute;s a&ntilde;adimos un "ListView" que servir&aacute; para ver la lista de la compra definitiva. Usamos otro distinto para no tener que redimensionar el anterior que serv&iacute;a para seleccionar productos. Lo renombramos como "ShowProducts" y le ponemos estos valores:</p>
<ul>
<li>BackgroundColor: Blue</li>
<li>TextColor: Yellow</li>
<li>Width: Fill Parent</li>
<li>Height: Automatic</li>
</ul>
<p>Debe quedar m&aacute;s o menos as&iacute;:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="compra11.png" height="172" width="309" /></p>
<p>Ahora vamos a la secci&oacute;n "Blocks".</p>
<p>Inicialmente los componentes que acabamos de a&ntilde;adir deben estar ocultos, as&iacute; que modificamos la inicializaci&oacute;n anterior del programa:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="compra12.png" height="204" width="417" /></p>
<p>Cuando hagamos click sobre el bot&oacute;n "ShowListButton" tenemos que mostrar en el bot&oacute;n el mensaje "<em>Cerrar lista</em>" (usaremos una variable l&oacute;gica "ShowingList" para saber cuando estamos mostrando la lista y cuando no) y &nbsp;ocultar el otro bot&oacute;n "DoListButton". Adem&aacute;s debemos mostrar las instrucciones y la lista de la compra dentro del visor de listas "ShowProducts":</p>
<p>&nbsp;<img style="display: block; margin-left: auto; margin-right: auto;" src="compra13.png" /></p>
<p>&nbsp;Por &uacute;ltimo, debemos hacer que cuando estemos mostrando la lista de la compra y pulsemos un producto, &eacute;ste desaparezca de la lista:</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="compra14.png" height="108" width="506" /></p>
<p>Pru&eacute;balo, veras que en cualquier momento puedes a&ntilde;adir nuevos productos a la lista y borrar unos y luego volver a&nbsp; a&ntilde;adir otros.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper activityIdevice em_iDevice" id="id65">
<div class="iDevice emphasis1" >
<div class="iDevice_header"><h2 class="iDeviceTitle">Ampliación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta65_89_2" class="block iDevice_content">
<p>Modifica la aplicaci&oacute;n anterior para que no utilice listas a la hora de guardar las listas de productos que tiene el supermercado. SI que se usar&aacute; una lista para mostrar los productos &nbsp;(que es "<strong>ShowingList</strong>")&nbsp;</p>
<p>Para sustituir las listas "<strong>bakery</strong>", "<strong>butchery</strong>", "<strong>dairy</strong>", etc. debes usar "<strong>tinyDB</strong>", que es un componente no visible de la categor&iacute;a "<strong>Storage</strong>" que permite guardar datos de forma permanente.&nbsp;<span>Tambi&eacute;n se usar&aacute; esa "<strong>TinyDB</strong>"&nbsp;</span><span>para guardar la lista de la compra&nbsp;"<strong>ShoppingList</strong>" de manera que aunque cerremos la aplicaci&oacute;n en nuestro m&oacute;vil no se pierda la informaci&oacute;n de la lista de la compra que hemos hecho.&nbsp;</span></p>
<p><span>NOTA: Solo se puede tener una tinyDB por app.</span></p>
<p>&nbsp;</p>
<p><span>&iexcl;Buena suerte con el intento!</span></p>
</div>
</div>
</div>
</div>
</div>
<p align="center">Obra publicada con <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Licencia Creative Commons Reconocimiento No comercial Compartir igual 3.0</a></p></div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="atrvete_a_volar_solo.html" class="prev"><span>&laquo; </span>Anterior</a> | <a href="por_si_no_sabes_idiomas.html" class="next"> Siguiente<span> &raquo;</span></a>
</div>
</div>
<div id="siteFooter"><center><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Licencia Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a></center><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Programando en AppInventor</span> por <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Francisco Nevado Montero</span> se distribuye bajo una <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licencia Creative Commons Atribución-NoComercial-CompartirIgual 4.0 Internacional</a>.</div></div>
<script type="text/javascript" src="my_js.js"></script></body></html>